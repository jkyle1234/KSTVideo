
@model KSTVideo.Models.BasketView

@{
    ViewBag.Title = "Your cart";
}

<h2> @ViewBag.Title </h2>
<div>
    @using (Html.BeginForm("UpdateBasket", "Basket"))
    {
        @Html.AntiForgeryToken();
        <input class="btn btn-sm btn-success" type="submit" value="Update Basket" />
        <hr />
        <div class="row">
            <div class="col-md-4"><label>Item</label></div>
            <div class="col-md-3"><label>Quantity</label></div>
            <div class="col-md-1"><label>Price</label></div>
            <div class="col-md-1"><label>Subtotal</label></div>
        </div>
        <hr />
        for (int i = 0; i < Model.BasketLines.Count; i++)
        {
            <div class="row">
                <div class="col-md-4">
                    @Html.ActionLink(Model.BasketLines[i].Video.Name, "Details",
                    "Videos", new { id = Model.BasketLines[i].Video.ID }, null)<br />
                   
                </div>
                <div class="col-md-3">
                    @Html.HiddenFor(basketID => Model.BasketLines[i].BasketID)
                    @Html.TextBoxFor(quantity => Model.BasketLines[i].Quantity)
                    <p>
                        @Html.ValidationMessageFor(quantity => Model.BasketLines[i].Quantity,
                 "", new { @class = "text-danger" })
                </p>
            </div>
            <div class="col-md-1">
                @Html.DisplayFor(price =>
Model.BasketLines[i].Video.RentalPrice)
        </div>
        <div class="col-md-1">
            @((Model.BasketLines[i].Quantity *
Model.BasketLines[i].Video.RentalPrice).ToString("c"))
        </div>
    </div>
    <hr />
}
}
    <div class="row">
        <div class="col-md-8">
            @Html.DisplayNameFor(model => model.TotalCost)
        </div>
        <div class="col-md-1">
            @Html.DisplayFor(model => model.TotalCost)
        </div>
    </div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
